<html>
<head>
    <meta charset="utf-8">
    <script src="../common/esl.js"></script>
    <script src="../common/config.js"></script>
    <link rel="stylesheet" href="../common/reset.css">
</head>
<body>
<style>
</style>
<div id="main"></div>
<script>

    require([
        'echarts',
        'echarts/chart/scatter',
        'echarts/component/legend',
        'echarts/component/tooltip',
        'echarts/component/grid',
        'echarts/component/axis',
        'echarts/component/dataZoom'
    ], function (echarts) {

        var chart = echarts.init(document.getElementById('main'), null, {
            renderer: 'canvas'
        });

        var option = {
            color: ['#5793f3', '#d14a61', '#fd9c35', '#675bba', '#fec42c',
                '#dd4444', '#d4df5a', '#cd4870'],
            tooltip : {
                trigger: 'axis',
                showDelay : 0,
                axisPointer:{
                    show: true,
                    type : 'cross',
                    lineStyle: {
                        type : 'dashed',
                        width : 1
                    }
                }
            },
            legend: {
                data:['sin','cos']
            },
            toolbox: { // 失效?
                show : true,
                x: 'right',
                y: 'top',
                orient: 'horizontal',
                borderColor: '#000',
                zlevel: 10,
                feature : {
                    mark : {show: true},
                    dataZoom : {show: true},
                    dataView : {show: true, readOnly: false},
                    restore : {show: true}
                }
            },
            xAxis : [
                {
                    type : 'value',
                    scale:true
                }
            ],
            yAxis : [
                {
                    type : 'value',
                    scale:true
                }
            ],
            series : [
                {
                    name:'sin',
                    type:'scatter',
                    large: true,
                    data: (function () {
                        var d = [];
                        var len = 10000;
                        var x = 0;
                        while (len--) {
                            x = (Math.random() * 10).toFixed(3) - 0;
                            d.push([
                                x,
                                //Math.random() * 10
                                (Math.sin(x) - x * (len % 2 ? 0.1 : -0.1) * Math.random()).toFixed(3) - 0
                            ]);
                        }
                        //console.log(d)
                        return d;
                    })()
                },
                {
                    name:'cos',
                    type:'scatter',
                    large: true,
                    data: (function () {
                        var d = [];
                        var len = 10000;
                        var x = 0;
                        while (len--) {
                            x = (Math.random() * 10).toFixed(3) - 0;
                            d.push([
                                x,
                                //Math.random() * 10
                                (Math.cos(x) - x * (len % 2 ? 0.1 : -0.1) * Math.random()).toFixed(3) - 0
                            ]);
                        }
                        //console.log(d)
                        return d;
                    })()
                }
            ]
        };


        chart.setOption(option);
    })

</script>
</body>
</html>